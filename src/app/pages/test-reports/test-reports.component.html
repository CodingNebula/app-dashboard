<div class="header-div">
  <label class="downloadbtn" (click)="downloadPDF(reportData, $event)">Download PDF</label>
  <label class="heading header-title">{{ this.reportData?.app_name }}</label>
 <label class="date-label" *ngIf="timeCreated" >Created At: <span>{{ timeCreated
 | date:'dd-MM-yy '}}</span></label>
</div>
<div class="parentDiv">

  <div class="row">
    <div class="col-6 div-padding">
      <div class='testSpecification'>
        <div class="dividerDiv">
          <label class="labelHeading">Device Name</label>
          <label class="subLabel">{{this.capabilities?.extra?.capabilities.device}}</label>
        </div>
        <div class="dividerDiv">
          <label class="labelHeading">Platform</label>
          <label class="subLabel">{{this.capabilities?.extra?.capabilities.platform}}</label>
        </div>
        <div class="dividerDiv">
          <label class="labelHeading">Started By</label>
          <label class="subLabel">John Doe</label>
        </div>
        <div class="dividerDiv">
          <label class="labelHeading">Started Time</label>
          <label class="subLabel">{{reportData?.extra?.extras.createdAt | date:'dd-MM-yy'}} {{reportData.extra.extras?.startedTime }} </label>
        </div>
        <div class="dividerDiv">
          <label class="labelHeading">Total Time taken</label>
          <label class="subLabel">{{this.timeTaken}}  </label>
        </div>
        <div class="dividerDiv">
          <label class="labelHeading">Description</label>
          <label class="subLabel discription-label"> {{this.reportData?.extra?.capabilities.description}}</label>
        </div>
      </div>
    </div>
    <div class="col-6  div-padding">
      <div class='testSpecification' style="display:flex;justify-content: center;">
        <div echarts style="height: 240px;width: 390px;" [options]="CompletionChart" #chartElement (chartInit)="onChartInit($event)"></div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <nb-accordion>
        <nb-accordion-item *ngFor="let testCase of this.testCases">
          <nb-accordion-item-header style="position: relative;"
            [ngClass]="testCase.message === 'SUCCESS' ? 'passed' : 'failed'">
            <nb-icon [icon]="testCase.message === 'SUCCESS' ? 'checkmark-outline' : 'close-outline'"></nb-icon>
            <span style="margin-left: 1em;">{{ testCase?.successMessage || testCase?.failedMessage}}</span>
            <span style="position: absolute;right: 3em;">
              <div>{{ testCase?.message }} </div>
            </span>
          </nb-accordion-item-header>
          <nb-accordion-item-body>
            <div class="row">

              <div class="col-4" *ngIf="testCase.status ==='Failed'">
                <nb-card>
                  <nb-card-body>
                    <div> <span class="descriptionLabel">Defect -</span> {{testCase?.defect}}</div>
                  </nb-card-body>
                </nb-card>
              </div>
              <div class="col-4">
                <nb-card>
                  <nb-card-body>
                    <div><span class="descriptionLabel">Time Spend -</span> {{reportData?.extra?.timeSpent}}</div>
                  </nb-card-body>
                </nb-card>
              </div>
            </div>

          </nb-accordion-item-body>
        </nb-accordion-item>
      </nb-accordion>
    </div>
  </div>
</div>
